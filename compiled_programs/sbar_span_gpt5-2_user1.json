{
  "traces": [],
  "train": [],
  "demos": [],
  "signature": {
    "instructions": "text\nYou will be given a clinical bedside handover transcript with speaker tags like:\n[OUTGOING_NURSE], [INCOMING_NURSE], [PATIENT], [DOCTOR], sometimes with slight tag punctuation variations.\n\nYour task: extract SBAR-aligned VERBATIM spans (exact substrings) from the transcript and output ONLY a JSON-like list of objects:\n[\n  {\"label\":\"SITUATION\",\"quote\":\"...\"},\n  {\"label\":\"ASSESSMENT\",\"quote\":\"...\"}\n]\nLabels must be exactly one of: SITUATION, BACKGROUND, ASSESSMENT, RECOMMENDATION.\n\nThis task is scored with IoU-style character-span matching against gold spans.\nSo: (1) choose the same start/end characters as gold, and (2) choose the same chunking/splitting as gold.\nDo NOT “summarize”; DO boundary-matching.\n\n========================\nABSOLUTE EXTRACTION RULES\n========================\n\n1) VERBATIM ONLY (no edits)\n- Copy quotes EXACTLY (case, spelling, punctuation, dash types, curly quotes, spacing, newlines).\n- Do not “clean” speaker-tag punctuation artifacts (e.g., keep leading \";\" if it’s in the transcript).\n- Do not add or remove periods/question marks; do not normalize units or abbreviations.\n\n2) CONTIGUOUS SUBSTRING ONLY\n- Each \"quote\" must be a single continuous substring from the transcript.\n- Never stitch separated fragments.\n\n3) NO DUPLICATE SUBSTRINGS\n- Do not output the identical substring twice.\n- Each extracted substring gets only ONE label.\n\n4) MULTIPLE OCCURRENCES → MULTIPLE SPANS\n- If similar SBAR info appears in different places, extract each occurrence separately.\n\n5) EXCLUDE NON-SBAR CHAT\n- Exclude greetings/introductions/permission/ID-checking unless the exact extracted portion clearly contains SBAR clinical content.\n- Commonly excluded: “Hi…”, “Good morning…”, “I’m handing over…”, “Can you confirm your name/DOB…”, “Thank you…”.\n\n========================\nGOLD-ALIGNED BOUNDARY RULES (MOST IMPORTANT)\n========================\n\nA) START WHERE GOLD STARTS: OFTEN NOT AT THE TURN START\nGold frequently trims off preliminary phrasing even within the same turn.\nExamples of what gold tends to EXCLUDE:\n- “Hi, I’m handing over …” or “I’d like you to review …”\nGold tends to START at the punctuation immediately before the first real clinical clause, often:\n- \". \" right before “He’s a 71-year-old…”\nSo: if a turn begins with greeting/request, SKIP it and start at the \".\" that directly precedes the clinical content.\n\nB) INCLUDE LEADING PUNCTUATION WHEN IT TOUCHES SBAR CONTENT\nIf SBAR content begins immediately after \":\" or \".\" or \",\" or \"?\" then INCLUDE that punctuation as the first character.\nThis includes cases like:\n- \". What’s his current status\"\n- \"? Any pain or nausea\"\n- \": Any IV access?\"\nDo not include earlier non-clinical words before that punctuation.\n\nC) OFTEN EXCLUDE TRAILING FINAL PUNCTUATION\nGold frequently omits the very final \".\" or \"?\" at the end of a span, even when it appears in the transcript.\nTry to end spans right before a trailing final period/question mark when that creates a clean match.\n(You don’t need to be perfect, but bias toward dropping the final terminal punctuation.)\n\nD) GOLD-LIKE CHUNKING: DON’T MERGE ACROSS GOLD SPLITS\nA common gold pattern: split when there is a natural boundary like a newline or a clear new clause block, even if same label.\nYou MUST follow these tendencies:\n\n1) Split “score” from “obs” when they are in separate blocks\n- If the transcript has a sentence like “His Q-ADDS score is …” followed by a new line “Latest obs are …”,\n  extract TWO ASSESSMENT spans:\n  - one for the Q-ADDS sentence\n  - one for the obs/vitals block\n\n2) Split “IV access” from “Medications” when they appear as separate blocks\n- Even if both are assessment, gold often uses:\n  - one span: “Yes, he has a 20G cannula… No IV fluids…”\n  - second span: “Medications: …”\n\n3) Do NOT split a unified assessment paragraph unless there is an obvious dataset-style boundary\n- If several consecutive sentences describe current status in one continuous paragraph (e.g., abdominal symptoms + wound + stability), keep them as ONE ASSESSMENT span.\n\nE) STRONG SBAR TRANSITIONS → SPLIT\nSplit when the speaker clearly changes SBAR type, typically at sentence boundaries:\n- ASSESSMENT → RECOMMENDATION (e.g., findings then “will review tomorrow”, “continue…”, “please…”)\n- BACKGROUND → other\n- SITUATION → other\n\nF) QUESTIONS ARE OFTEN STANDALONE SPANS\nIncoming-nurse/doctor questions are commonly gold spans by themselves.\n- Extract the question alone (do not automatically merge with the answer).\n- Keep its leading punctuation (often \". \" or \": \" or \"? \").\n- If gold seems to drop a terminal \"?\" then drop it (end before it) when clean.\n\nG) PATIENT ANSWERS CAN BE STANDALONE SPANS\nSymptom Q&A often becomes:\n- question span (ASSESSMENT)\n- patient answer span (ASSESSMENT)\nDo not merge unless the transcript makes them inseparable.\n\n========================\nLABELING GUIDANCE (DATASET-SPECIFIC)\n========================\n\nSITUATION (why here / current episode context)\n- Reason for admission/presenting problem, procedure/day post-op, immediate “why they’re here” context.\n- Often: “Day X post-op from … for …” OR “admitted yesterday with …”\n- Remember boundary rule A: gold may start at \". He’s a 71-year-old…\" rather than at “Hi/I’m handing over/I’d like…”\n\nBACKGROUND (history/baseline)\n- PMH, comorbidities, baseline function, allergies.\n- “No known drug allergies” is typically BACKGROUND and often starts with a leading \". \".\n- Some “background/support needs” QUESTIONS can be labeled BACKGROUND if asked.\n\nASSESSMENT (current status/findings)\n- Vitals/obs, Q-ADDS, oxygen/sats, symptoms now, exam findings, wound status, drain output, mobility today, lines/cannula status, current meds list (often treated as ASSESSMENT in this dataset), “stable/improving”, tolerating diet, etc.\n- Questions about current status (pain, nausea, lines, positioning, pressure areas) are ASSESSMENT.\n\nRECOMMENDATION (plan/tasks/what next)\n- Review plans, follow-up actions, referrals, continue/monitor instructions, escalation criteria.\nImportant dataset quirks from gold:\n- “Surgical team reviewed … and will reassess … tomorrow” is RECOMMENDATION.\n- “Dr. X … will review again tomorrow” is RECOMMENDATION.\n- Patient reassurance/pleasantries like “Please use the call bell… I’ll leave you in good hands” are often NOT extracted; include only if clearly part of an actionable plan and seems gold-like for that transcript.\n- Needs-check questions like “Is there anything you need before we finish handover?” may be included as part of a recommendation block when adjacent.\n\nCritical: “No, I’m okay” in response to “Is there anything you need…?” is labeled RECOMMENDATION in this dataset (not ASSESSMENT). Extract it as RECOMMENDATION when it is clearly a needs/requests check.\n\n========================\nOUTPUT FORMAT\n========================\nReturn ONLY the JSON-like list of objects (no prose).\nEach object: {\"label\":\"...\",\"quote\":\"...\"}.\n\nBefore output, verify:\n- Each quote is an exact contiguous substring.\n- You started at the gold-like punctuation boundary (often \". \" or \"? \" or \": \").\n- You did not include greeting/request lead-ins when gold likely trims them.\n- You split Q-ADDS vs obs when separated; split cannula vs medications when separated.\n- You labeled “No, I’m okay” as RECOMMENDATION when it’s a needs-check response.",
    "fields": [
      {
        "prefix": "Text:",
        "description": "${text}"
      },
      {
        "prefix": "Pred Spans:",
        "description": "${pred_spans}"
      }
    ]
  },
  "lm": null,
  "metadata": {
    "dependency_versions": {
      "python": "3.12",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
