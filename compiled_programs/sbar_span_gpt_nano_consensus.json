{
  "traces": [],
  "train": [],
  "demos": [],
  "signature": {
    "instructions": "text\nYou are given a bedside clinical handover transcript in plain text with speaker tags such as:\n- “[OUTGOING_NURSE]: …”\n- “[INCOMING_NURSE]: …”\n- “[PATIENT]: …”\n\nTask\nExtract verbatim, transcript-contiguous substrings (“quotes”) that correspond to SBAR content and assign each quote exactly ONE label:\n- SITUATION\n- BACKGROUND\n- ASSESSMENT\n- RECOMMENDATION\n\nReturn JSON only:\n{\"pred_spans\":[{\"label\":\"SITUATION|BACKGROUND|ASSESSMENT|RECOMMENDATION\",\"quote\":\"<exact substring>\"}]}\n\nHow you are scored (optimize for gold span matching)\nHidden gold spans are compared to your predicted spans using IoU-style character overlap. To maximize score:\n- Copy text EXACTLY (verbatim): same spelling, punctuation, casing, contractions, odd grammar.\n- Every quote must be one continuous substring from one location (no stitching).\n- Choose boundaries that are likely to match gold: gold often uses clause/fragments, sometimes with leading punctuation (\", \", \". \", \"—\", \": \").\n- Do NOT include extra words that dilute overlap (bed/room, age, doctor, “this is…”, greetings, politeness), unless that text is clearly part of the clinical content likely labeled in gold.\n- Split aggressively when (a) SBAR label changes, OR (b) gold likely selects only part of a sentence.\n- Avoid duplicates unless the identical text appears multiple times in the transcript.\n\nSBAR label mapping (gold-style)\nSITUATION = headline reason/status NOW (why they’re here / current episode)\n- Typical: “admitted with…”, “came in with…”, “presentation was…”, “Day X post-op…”, “post theatre…”, “awaiting…”, “comfort measures only…”.\n- Gold often wants ONLY the admission/post-op clause(s), not demographics/bed/doctor.\n- IMPORTANT nuance: if “Day X post-op…” is followed by “returned from theatre yesterday…” those can be SITUATION together.\n- But if immediately after SITUATION there are current vitals/diet tolerance lines, gold often labels those separately as ASSESSMENT (so split).\n\nBACKGROUND = prior context (not the headline reason)\n- PMHx/comorbidities, smoking history, baseline function, home situation, supports, language, decision-maker/EPOA.\n- Allergies content is BACKGROUND (see rules below).\n- If “diagnosed with …” clearly refers to this admission/problem it may belong to SITUATION; if it’s past history, BACKGROUND.\n\nASSESSMENT = current status/findings right now (including Q&A)\n- Symptoms, pain, vitals/stability, mobility/assistance, exam findings, devices/lines status.\n- INCLUDE incoming nurse assessment QUESTIONS verbatim as ASSESSMENT even if unanswered (gold often includes symptom questions).\n- INCLUDE patient’s symptom answers as their own ASSESSMENT quotes.\n- Medication statements: include as ASSESSMENT only when described as current state (e.g., “He’s on…”, “still on…”). But don’t assume every med mention is gold—prefer spans that are clearly emphasized clinically.\n\nRECOMMENDATION = plan / next steps / monitoring / safety-netting / workflow\n- “plan for today…”, “continue…”, “monitor…”, “escalate if…”, “let me know if…”, “we need to…”, “due at…”.\n- Incoming nurse intentions (“I’ll keep an eye on…”, “I’ll keep monitoring…”, “check in with team…”) are RECOMMENDATION and often gold.\n- Workflow statements that imply required action/documentation are RECOMMENDATION.\n\nGold tendencies (critical; observed from prior feedback)\n1) Symptom Q&A is frequently gold:\n- Example: extract “Any headache, dizziness, or nausea today” as ASSESSMENT.\n- Extract patient answer separately: “No, I feel okay” as ASSESSMENT.\n- Even if it looks like small talk, if it is a symptom check, include it.\n\n2) Allergies Q&A is frequently gold:\n- Extract the nurse question “Any allergies …” as BACKGROUND.\n- Extract patient’s allergy answer as BACKGROUND (e.g., “No known allergies.” / “None that I know of”).\n\n3) Gold often prefers minimal fragments over full sentences:\n- If a sentence contains pivots like “but”, “so”, commas, em-dashes, consider splitting.\n- Gold may take ONLY the tail fragment, including leading punctuation.\n  Example: patient: “Just a bit sore around the belly, but otherwise okay.”\n  Gold might be only “, but otherwise okay.” (include the leading comma+space exactly if present).\n\n4) Leading punctuation may be part of the gold span:\n- A span may begin with “. ” or “, ” or “—”.\n- When a clinically meaningful fragment starts after punctuation, consider starting the quote at that punctuation.\n\n5) Gold sometimes MERGES multiple clauses into one span (don’t over-split when gold likely merged):\n- Example: a multi-sentence assessment block can be one gold ASSESSMENT span (pain + analgesia + PCA).\n- Conversely, SITUATION often ends before vitals/diet tolerance; those often become ASSESSMENT.\n\nWhat to skip (unless clearly SBAR-worthy)\n- Greetings, introductions, permission to handover, identity confirmation (“confirm your full name”), “thanks”, “all yours”.\n- Demographics/administrative details: bed number, room, age, doctor name—usually not in gold spans.\n\nBoundary strategy (practical rules)\n- Start at the most clinically dense words; drop “So,” “Okay,” “Thanks,” “Perfect,” etc.\n- End before trailing add-ons that change SBAR type.\n- If you include punctuation at the start (\". \", \", \"), ensure it is exactly as in transcript.\n- Prefer matching gold punctuation: gold often omits final period; to reduce mismatch risk, avoid adding trailing punctuation unless it is clearly inside the clause. (But still must be verbatim—only copy what you select.)\n\nOutput rules (strict)\n- Output ONLY valid JSON (no commentary).\n- Key must be \"pred_spans\" with a list of objects.\n- Each object must have exactly:\n  {\"label\":\"SITUATION|BACKGROUND|ASSESSMENT|RECOMMENDATION\",\"quote\":\"<verbatim substring>\"}\n- Each quote must appear exactly once in the transcript at the extracted location (no invented text).\n- No duplicates unless the identical substring appears multiple times in the transcript.",
    "fields": [
      {
        "prefix": "Text:",
        "description": "${text}"
      },
      {
        "prefix": "Pred Spans:",
        "description": "${pred_spans}"
      }
    ]
  },
  "lm": null,
  "metadata": {
    "dependency_versions": {
      "python": "3.12",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
