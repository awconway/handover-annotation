{
  "traces": [],
  "train": [],
  "demos": [],
  "signature": {
    "instructions": "text\nYou are extracting SBAR elements (Situation, Background, Assessment, Recommendation) from a bedside clinical handover transcript for a STRICT span-based IoU evaluator. Your goal is to produce spans that match “gold” annotations with tight boundaries and correct labels.\n\nINPUT\n- One variable: `text` (a single transcript string) with speaker tags like:\n  [OUTGOING_NURSE]: ...\n  [INCOMING_NURSE]: ...\n  [DOCTOR]: ...\n  [PATIENT]: ...\n  [SOCIAL WORKER]: ...\n\nOUTPUT (ONLY THIS; no commentary)\nReturn a Python/JSON-style list of objects IN READING ORDER:\n[\n  {\"label\": \"SITUATION\"|\"BACKGROUND\"|\"ASSESSMENT\"|\"RECOMMENDATION\", \"quote\": \"verbatim contiguous span\"},\n  ...\n]\n\nABSOLUTE RULES (must follow)\n1) VERBATIM EXACT SUBSTRING\n- Each quote must be copied character-for-character from `text`.\n- Do not fix punctuation/typos, do not normalize spacing, do not add/remove words.\n- Do NOT include speaker tags inside quotes.\n\n2) CONTIGUOUS ONLY (no stitching)\n- Each quote must be one continuous substring from a single location in `text`.\n- Never merge separated snippets.\n\n3) ONE LABEL PER QUOTE\n- If one utterance contains multiple SBAR types, split at the exact boundary into multiple contiguous quotes.\n\n4) SBAR-RELEVANT CLINICAL CONTENT ONLY\n- Exclude greetings/introductions/ID checks/thanks/rapport/comfort offers unless they contain concrete clinical instruction or monitoring.\n- Prefer outgoing/incoming nurse handover content; include patient/doctor only when it conveys high-yield current symptoms/plan.\n\nCRITICAL “GOLD-LIKE” HEURISTICS (to maximize IoU)\nThe gold in these datasets follows some non-obvious conventions. Apply these.\n\nA) GOLD OFTEN MERGES RELATED CLAUSES INTO A SINGLE SPAN\n- If consecutive clauses are the same SBAR type and tightly related, KEEP THEM TOGETHER as one quote rather than splitting too finely.\n  Example tendency: a whole block about fluids/diuretics/fluid restriction may be ONE ASSESSMENT span in gold.\n- Only split when SBAR type changes.\n\nB) SITUATION = “WHY HERE / EPISODE” (often broader than you think)\n- Gold often includes BOTH the diagnosis/reason + immediate description and sometimes the confirming test that establishes the situation.\n- If contiguous, prefer capturing the whole “admitted/presented with …” segment, potentially including adjacent confirming info (e.g., “echo confirmed EF…”, “ultrasound confirmed ascites”) when it appears as part of the opening problem statement.\n- Do not use bed/room/admin details unless they are the only way the reason for admission is expressed.\n\nC) BACKGROUND = TRUE PRIOR/BASELINE CONTEXT (narrow)\nUse BACKGROUND mainly for:\n- PMH/comorbidities (e.g., diabetes, AF, ESRF, depression)\n- baseline function/cognition/language/social baseline (“English is his first language”, baseline orientation patterns)\n- allergies status (“No known allergies.”) is typically BACKGROUND in this dataset.\nAvoid BACKGROUND for:\n- current imaging/results/vitals/symptoms/wounds (those are usually ASSESSMENT here)\n- medication/treatment given this admission usually not BACKGROUND unless framed as long-standing home regimen; even then gold may treat as ASSESSMENT if it describes current management.\n\nD) ASSESSMENT = CURRENT STATUS / FINDINGS (broad; common pitfall)\nIn this evaluator, treat these as ASSESSMENT when they describe “now”:\n- symptoms/complaints/denials (patient statements like “Bloated and uncomfortable…”)\n- physical findings (distended abdomen, wounds, bruising)\n- test results/imaging results (“echo confirmed…”, “Ultrasound has confirmed…”, “K is 6.2”)\n- observations/vitals, Q-ADDS score, “stable overnight”, “no postural drop”\n- intake/output, fluid balance, weights, BGLs, line status if described as a finding (e.g., IV patent/flushed can be current-state finding)\n\nE) RECOMMENDATION = FORWARD ACTIONS / TASKS / ESCALATION / PENDING\nExtract future-oriented or instruction content precisely:\n- “needs to be taken…”, “please get doctors to review…”\n- “for procedure/scan… to be arranged…”\n- monitoring instructions (e.g., “4-hourly observations”, “daily weights”, “strict fluid balance chart” WHEN framed as what to do)\n- escalation criteria (“Let the team know if BP drops…”)\nDo NOT label as recommendation:\n- purely descriptive current state (that’s ASSESSMENT)\n- consent status and “documentation up to date” usually not a recommendation unless gold-like instruction is explicit\n- questions like “Would you like a repeat blood panel today?” are often NOT gold recommendations; include only if clearly part of an agreed plan/order.\n\nF) VERY IMPORTANT: DON’T MISLABEL “CURRENT MANAGEMENT BLOCKS”\nGold often treats “He’s been on… / we’ve seen… / input-output… / fluid restriction…” as ONE ASSESSMENT span rather than splitting into BACKGROUND + ASSESSMENT + BACKGROUND.\nSo:\n- If a nurse provides a continuous management-and-response block about this admission, label the block ASSESSMENT and keep it together when contiguous.\n\nG) CAPTURE SHORT “EASY TO MISS” SPANS\nGold frequently includes short standalone statements such as:\n- “Otherwise he’s stable at the moment.”\n- “No antibiotics charted yet—awaiting …”\n- “No known allergies.”\n- brief monitoring statements if clearly instructive (e.g., “we’re doing 4-hourly observations.”)\n\nBOUNDARY TUNING (IoU-sensitive)\n- Start at the first clinically meaningful word; drop leading fillers (“Okay.” “So,” “Yes,”) unless gold likely includes them (often it doesn’t—prefer excluding).\n- End exactly at the clause end; do not include following non-clinical chatter.\n- When a gold span likely covers multiple sentences of the same type, include the full contiguous block rather than extracting several smaller fragments.\n\nFINAL CHECK BEFORE OUTPUT\n- Every quote is an exact substring from `text`.\n- Quotes are contiguous spans; no stitching.\n- No speaker tags inside quotes.\n- Labels follow the dataset conventions above (esp. ASSESSMENT vs BACKGROUND; broad SITUATION blocks).\n- Output ONLY the list of {label, quote} in reading order.",
    "fields": [
      {
        "prefix": "Text:",
        "description": "${text}"
      },
      {
        "prefix": "Pred Spans:",
        "description": "${pred_spans}"
      }
    ]
  },
  "lm": null,
  "metadata": {
    "dependency_versions": {
      "python": "3.12",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
