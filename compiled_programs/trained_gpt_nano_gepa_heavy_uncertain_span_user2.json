{
  "traces": [],
  "train": [],
  "demos": [],
  "signature": {
    "instructions": "text\nTask: Extract “uncertainty” cue spans from a clinical bedside-handover transcript, optimized for IoU-based span matching against a gold standard.\n\nInput\n- One field: `text` (verbatim transcript; may include speaker tags like [INCOMING_NURSE], [OUTGOING_NURSE], [DOCTOR], [PATIENT]).\n\nOutput (STRICT)\n- Return ONLY:\npred_spans = [\n  {\"label\": \"...\", \"quote\": \"...\"},\n  ...\n]\n- No other keys, no commentary, no markdown.\n- `pred_spans` must be a list (can be empty only if you are confident there is truly zero uncertainty cues in the entire transcript).\n\nSpan + scoring reality (CRITICAL)\n- Evaluation requires BOTH: (1) correct label AND (2) IoU span overlap with gold.\n- Gold spans are often NOT the smallest single word; they may include a short surrounding phrase (e.g., “I’ll be back to check on you shortly” rather than just “shortly”).\n- Goal: choose the span that best matches what annotators likely selected: a short, self-contained phrase centered on the uncertainty cue, often including an action verb + the cue (not the full sentence; not just the cue word if it’s likely embedded in a standard phrase).\n\nLabels (EXACT strings; must match case/punctuation exactly)\n1) Hedge / Probability Language\n2) Vague / Qualitative Expression\n3) Unknown fact / Explicit Lack of Knowledge\n4) Indefinite Timing\n5) Source Uncertainty\n6) Procedural Uncertainty\n7) Responsibility Uncertainty\n\nWhat to extract (high-yield + dataset-specific lessons)\nA) Indefinite Timing (VERY COMMON; do not miss)\nExtract non-specific/approximate timing or scheduled-but-not-exact time mentions, including:\n- “shortly”, “later”, “later today”, “this afternoon”, “this morning”, “tomorrow morning”, “tomorrow afternoon”, “after rounds”\n- waiting-for-review timing: “await the medical team review”, “awaiting … review”\nDataset note: even times that look specific (e.g., “tomorrow afternoon”) can be labeled Indefinite Timing in gold when used as a general scheduled time window.\n\n**Boundary rule (updated from feedback):**\n- Do NOT always pick only the cue word (“shortly”)—gold may include a slightly longer fragment.\n- Prefer a compact phrase that includes the action + timing cue, typically:\n  - “I’ll be back … shortly”\n  - “be back … shortly”\n  - “check on you shortly”\n  - “to be done this afternoon” / “done this afternoon”\n- Avoid ultra-minimal one-word spans if the transcript contains a standard short clause around it that is likely what gold marked.\n- Avoid huge spans that include multiple clinical facts.\n\nB) Vague / Qualitative Expression (common, but don’t force it)\nExtract imprecise qualitative clinical descriptors, when they genuinely function as non-quantified status:\n- “stable”, “okay”, “about the same”, “no acute issues”, “within normal limits/range”, “seems a bit dehydrated”\nBoundary rule:\n- Keep it minimal (just the vague phrase), BUT only include if likely annotated as uncertainty in this dataset.\nDataset lesson from feedback: some plausible vagueness (e.g., “within normal range”) may NOT be gold-labeled in a given example—so don’t add vagueness spans unless it’s clearly used as a non-specific reassurance/assessment cue (and not merely routine reporting).\n\nC) Hedge / Probability Language\nExtract explicit hedges/speculation:\n- “likely”, “probably”, “I think”, “suspected”, “it sounds like…”\nKeep span tight around the hedge phrase.\n\nD) Unknown fact / Explicit Lack of Knowledge\nExtract explicit not-knowing / missing information:\n- “not sure”, “don’t know”, “unknown”, “not back yet”, “waiting on results”\n\nE) Source Uncertainty\nExtract second-hand attribution where certainty depends on the source:\n- “ENT said…”, “as per…”, “family says…”, “the patient reports…”\n\nF) Procedural Uncertainty\nExtract tentative/conditional/undecided plans:\n- “might”, “maybe”, “consider”, “if needed”, “we’ll see”\nDataset lesson: Don’t label problem-solving phrasing as procedural uncertainty if gold likely treats the uncertainty as timing instead. Example: “see if we can reduce the oxygen later” tends to be gold-timing (“later”) rather than procedural. Prefer extracting the timing clause for Indefinite Timing; only add Procedural Uncertainty if there is a clear separate hedge/conditional that is likely annotated.\n\nG) Responsibility Uncertainty\nExtract tasks mentioned without a clear owner:\n- “bloods to be checked later” (no assigned person)\nKeep span tight.\n\nExclusions (avoid false positives)\n- Do NOT extract bedside politeness/consent language unless it expresses clinical uncertainty:\n  - “is that okay?”, “if that’s okay” (usually permission, not uncertainty)\n- Do NOT combine discontiguous substrings.\n- Each cue is a separate object; if two cues occur in one sentence, output two spans.\n\nDeduplication / coverage rules (important)\n- Do not output the same exact quote multiple times unless it truly occurs multiple times at different positions in the transcript.\n- Scan the whole transcript; do not stop early. Gold may include a late-occurring timing cue (feedback example: missed a “shortly” near the end).\n- If multiple timing expressions occur, capture each unique occurrence.\n\nPractical extraction strategy\n1) First pass: find ALL Indefinite Timing cues (shortly/later/this afternoon/tomorrow afternoon/await review/etc.). For each, choose a compact action+timing phrase if available; otherwise the minimal standalone timing fragment.\n2) Second pass: add Unknown fact, Hedge/Probability, Procedural, Source, Responsibility.\n3) Third pass: add Vague / Qualitative only when clearly used as non-specific clinical assessment (don’t over-predict).\n4) For every selected quote:\n   - Must be an EXACT substring of `text` (verbatim spelling/punctuation/spacing).\n   - Keep it short, centered on the cue, but include just enough surrounding words to match likely gold boundaries (often a short clause).",
    "fields": [
      {
        "prefix": "Text:",
        "description": "${text}"
      },
      {
        "prefix": "Pred Spans:",
        "description": "${pred_spans}"
      }
    ]
  },
  "lm": null,
  "metadata": {
    "dependency_versions": {
      "python": "3.12",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
