{
  "traces": [],
  "train": [],
  "demos": [],
  "signature": {
    "instructions": "TASK\nYou will be given one field, `text`, containing a transcript of a clinical bedside nursing handover with speaker tags (e.g., [INCOMING_NURSE], [OUTGOING_NURSE], [PATIENT], [CARER]).\n\nYour job: output ONLY a Python-style list of category KEYS (strings) for the categories that are explicitly evidenced as having been addressed in the transcript.\n\nOUTPUT (ABSOLUTELY STRICT)\n- Output ONLY a Python list of strings, e.g. ['sit_diagnosis', 'assess_obs']\n- Use ONLY the exact keys from the provided category table (no new keys, no paraphrases).\n- No duplicates. Order irrelevant.\n- No prose, no explanations, no extra tokens.\n\nGENERAL DECISION STANDARD (HARD RULE)\n- Include a category ONLY if there is explicit, affirmative, quote-level evidence it was addressed in the transcript.\n- Do NOT infer from typical hospital workflow.\n- Do NOT include a category if it is only a future intention (“I’ll check…”, “I’ll review…”, “going to…”), EXCEPT when the category is a plan/recommendation category (rec_*), where future actions are exactly what you should capture.\n\nAPPLY THESE HIGH-ERROR RULES (LEARNED FROM FAILURES)\n\n1) INVITATION vs routine questions\n- invitation: ONLY if patient/carer is explicitly asked to allow/participate in bedside handover\n  Examples: “Is it okay if we do handover at the bedside?” “Do you mind if we do handover here?”\n- DO NOT label invitation for symptom checks (“any pain?”), needs checks (“anything you need?”), or general conversation.\n\n2) ID CHECK (EXTREMELY STRICT: ALL THREE IDENTIFIERS REQUIRED)\n- id_check: include ONLY if the transcript explicitly checks ALL THREE:\n  (a) patient name\n  (b) date of birth (DOB)\n  (c) MRN/URN/ID number\n- Name alone or name + DOB is NOT enough.\n- “Check wristband” or “confirm identity” without explicitly stating all 3 identifiers is NOT enough.\n\n3) INTRODUCTIONS (separate clinician→patient vs clinician↔clinician)\n- introduction_patients: include if a clinician introduces self and/or the other nurse to the patient/carer (e.g., “Hi Neil, I’m Sam, looking after you today”).\n- introduction_clinicians: RARE; include ONLY if clinicians introduce themselves to EACH OTHER by name/role (a clear exchange between nurses). Introducing the oncoming nurse to the patient is NOT this.\n\n4) PATHOLOGY (COMMONLY MISSED—CAPTURE AGGRESSIVELY WHEN MENTIONED)\n- assess_pathology: include if ANY labs/bloods/cultures/ECG/imaging are mentioned as done, pending, ordered, results discussed, or refused.\n  Examples: “blood cultures pending”, “CT showed…”, “declined bloods”, “pre-op ECG done”.\n- Refusal still counts because pathology was explicitly discussed.\n\n5) ALLERGIES (ITS OWN BACKGROUND CATEGORY; DO NOT MISCLASSIFY)\n- bg_allergies: include if allergies are explicitly stated, including “NKDA / no known allergies”.\n- DO NOT infer allergies from “allergy symptoms” or “severe allergy presentation” (that is diagnosis/context, not allergies status).\n- Do NOT bury allergies under medications or history.\n\n6) BACKGROUND vs current admission facts (avoid over-labeling)\n- bg_history: include ONLY if explicit past history/background is stated (PMHx like CKD/HTN/asthma; social history; substitute decision-maker; language needs; living situation; legal status; psychosocial background).\n- DO NOT label bg_history just because age, bed number, treating team, current diagnosis/admission reason are mentioned.\n\n7) SITUATION: DIAGNOSIS / STATUS / EVENTS (do not over-call “events”)\n- sit_diagnosis: reason for admission / primary diagnosis (“admitted with…”, “for TAVI”, “came in with…”).\n- sit_status: current state or stage in journey (“stable”, “awaiting theatre”, “scheduled tomorrow”, “fasting”, “ready for discharge”).\n- sit_events: include ONLY if notable shift/admission events are explicitly described as having happened OR explicitly ruled out in an event-like way.\n  - “No seizures overnight” can count (explicitly addressing events).\n  - “No acute changes/issues overnight” counts ONLY if clearly about shift events.\n  - DO NOT automatically treat refusals (meals/meds/obs) as “events” unless framed as an incident/complication.\n\n8) ASSESSMENT DOMAINS: require actual content, not intentions\n- Include assess_* categories only when findings/status are given (including “within normal limits”, “stable”, “no pain”, “continent”, etc.).\n- Do NOT include assess_* if nurse only says they will check/review later.\n\nKey clarifications that commonly trip up:\n- assess_obs: include if vitals/observations are reported OR explicitly summarized (“obs stable”, “vitals WNL”, “febrile 38.8”, “routine obs ongoing”).\n- assess_monitoring: include ONLY when specific monitoring is stated (e.g., telemetry/cardiac monitor/alarms). DO NOT label if only “observations” or “watching respiratory status” is said without a named monitoring modality.\n  (Note: “on telemetry” WOULD qualify; do not miss it.)\n- assess_nutrition: include only if diet/fasting/restrictions are explicitly stated (general diet, NBM/fasting, low-sodium).\n  A “food chart”/dietitian referral indicates nutrition is addressed (include assess_nutrition).\n- assess_medications: include when meds given/changed/refused/listed as current (“on aspirin”, “antibiotics changed”, “gave paracetamol”).\n  “I’ll check the med chart” alone is NOT enough.\n- assess_devices: include if lines/drains/cannula/catheter/wounds are explicitly mentioned INCLUDING explicit absence (“no lines/drains” still counts because devices were addressed).\n- assess_mobility: include only if mobility/assistance level is stated (“ambulant”, “mobilising with assistance”, “self-caring”).\n\n9) RECOMMENDATIONS / PLAN (capture when future actions are stated)\n- rec_plan: include if ongoing plan/follow-ups are stated (“continue routine obs”, “follow up dietitian”, “prep for theatre”, “monitor temp”, “update team”).\n- rec_actions: ONLY for time-critical/safety-critical “do now / urgent escalation” actions.\n  Examples: “call MET now”, “give X immediately”, “urgent review”, “if worsening breathing press bell immediately” typically supports rec_actions ONLY if framed as urgent clinician action; otherwise it may just be advice—use caution.\n- rec_discharge_plan: include ONLY if discharge/transfer planning is explicitly discussed.\n\n10) PATIENT GOALS (very strict)\n- rec_patient_goals: include ONLY if clinician explicitly elicits goals/preferences (“what are your goals?”, “what matters to you?”, “preferences for care?”).\n- “Anything you need?” or ad-hoc requests (tea, wash) are NOT goals elicitation.\n\nWORKFLOW BEFORE OUTPUT\n1) Scan the transcript and collect direct evidence snippets mentally for each candidate label.\n2) Apply the strict rules above; remove anything based on inference or mere intention.\n3) Ensure pathology and allergies are captured when explicitly present (but not inferred).\n4) Output only the final Python list of keys, with no extra text.",
    "fields": [
      {
        "prefix": "Text:",
        "description": "${text}"
      },
      {
        "prefix": "Labels:",
        "description": "Choose zero or more labels and return a Python list.\n\nAvailable labels:\n- introduction_clinicians: Introduction of **all** clinicians involved in handover\n- introduction_patients: Introduction of **all** clinicians involved in handover to patient/carer\n- invitation: Invitation for patient/carer to participate in handover\n- id_check: ID check of 3 patient identifiers (name, date of birth and ID number)\n- sit_diagnosis: Primary diagnosis; reason for admission\n- sit_events: Significant events or complications\n- sit_status: Current status (awaiting tests/procedures, on interim orders/plan)\n- bg_history: Relevant clinical and social history; comorbidities\n- bg_fall_risk: Alerts - falls risk\n- bg_pi_risk: Alerts - pressure injury risk\n- bg_allergies: Alerts - allergies\n- bg_acp: Advanced care planning\n- assess_obs: Observations; Q-ADDS; recent escalations\n- assess_pain: Pain management\n- assess_devices: Devices; lines; vascular access\n- assess_monitoring: Critical monitoring; alarms\n- assess_nutrition: Nutrition; restrictions\n- assess_fluid_balance: Fluid balance; restrictions\n- assess_infusions: Infusions\n- assess_medications: Medication chart; flag high risk meds\n- assess_pathology: Pathology\n- assess_mobility: Mobility; aids\n- assess_skin_integrity: Skin integrity; interventions\n- rec_discharge_plan: Discharge plan\n- rec_actions: Critical actions required\n- rec_plan: Care plan/pathway actions to follow up\n- rec_patient_goals: Asked patient/carer about goals and preferences"
      }
    ]
  },
  "lm": null,
  "metadata": {
    "dependency_versions": {
      "python": "3.11",
      "dspy": "3.1.3",
      "cloudpickle": "3.1"
    }
  }
}
