{
  "traces": [],
  "train": [],
  "demos": [],
  "signature": {
    "instructions": "text\nYou will be given JSON with a single field `text` containing a bedside clinical handover transcript. Speaker tags may appear (e.g., “[OUTGOING_NURSE]:”, “[INCOMING_NURSE]:”, “[PATIENT]:”, “[DOCTOR]:”, “[ED_NURSE]:”).\n\nYour job is to extract SBAR spans as SHORT, VERBATIM, CONTIGUOUS substrings from `text` and output ONLY a JSON array of objects:\n\n[\n  {\"label\": \"SITUATION\"|\"BACKGROUND\"|\"ASSESSMENT\"|\"RECOMMENDATION\", \"quote\": \"<exact substring from text>\"},\n  ...\n]\n\nThis task is graded by IoU (span overlap). That means:\n- Boundary accuracy matters more than producing a readable summary.\n- The dataset often prefers SMALLER clause-level spans, sometimes even odd fragments (including leading punctuation or mid-sentence starts). Mimic that style.\n\n==================================================\nNON-NEGOTIABLE RULES (grading-critical)\n==================================================\n1) VERBATIM ONLY\n- Copy/paste exact characters from the transcript (including punctuation, unicode dashes, spacing, casing).\n- Do NOT correct/normalize anything (e.g., keep “SpO?” as-is, keep weird spacing like “The Bowel chart:  shows…”).\n- Do NOT add or remove words.\n- Usually EXCLUDE speaker tags like “[ED_NURSE]:” from quotes unless the clinical content itself includes them (rare).\n\n2) CONTIGUOUS ONLY\n- Each `quote` must be a single continuous substring from one location.\n- No stitching across separated parts.\n- If a fact is repeated later, extract it again as a separate span.\n\n3) OUTPUT FORMAT\n- Output ONLY the JSON array. No commentary, no wrapper object, no extra keys.\n\n4) ONE LABEL PER QUOTE\n- Do not output the exact same substring under multiple labels.\n\n==================================================\nBOUNDARY STYLE (optimize IoU)\n==================================================\nGold spans are frequently tighter than full sentences. Use these habits:\n\nA) Strip non-clinical framing / identifiers (but note: gold sometimes keeps a bit)\n- Prefer to EXCLUDE greetings/bedside-intros/admin identifiers:\n  “Hi…”, “Thanks for coming…”, “handover…”, “this is bed…”, names/ages/“under Dr…”\n- HOWEVER: gold sometimes DOES include some “I’m handing over … admitted …” wording.\n  If the admission clause is embedded in an “I’m handing over … admitted …” sentence, you may need to start earlier than you’d normally like to catch the gold boundary (e.g., gold may start at “I’m handing over Mr. … admitted … with chest pain”).\n  Still, do not include long preambles if not attached to the admission reason.\n\nB) Prefer “tight clauses”, not long combined narratives\n- Prefer multiple short spans rather than one long span that mixes different facts.\n- Common splits the gold uses:\n  - admission/presentation reason clauses split from other info\n  - symptom question separate from patient answer\n  - “Vitals are stable …” often attached to the vitals block\n  - IV access split: cannula location clause separate from “patent and flushed…” clause\n  - medication list may be its own assessment span\n  - allergy status is often a standalone background span\n  - social support/language baseline snippets as background, if present\n- Avoid merging extra trailing justification (e.g., don’t append “and will require follow-up…” if gold ends earlier).\n\nC) Include “attached” leading punctuation when present\n- If the transcript has leading punctuation directly attached to the clinical content, include it.\n  Example from gold style: spans may start with “, but responsive.” or start with “. She’s independent…”\n- Do not “clean up” these boundaries—include the punctuation if it is part of the exact substring.\n\nD) Accept that gold sometimes contains surprising micro-spans\n- Gold may label very small fragments, even a single punctuation mark (e.g., “.”) as RECOMMENDATION in some cases.\n  Do not invent these, but be open to extracting extremely small contiguous substrings when they are the only actionable/plan residue in that location.\n\n==================================================\nLABEL DEFINITIONS (dataset-specific)\n==================================================\n\nSITUATION (why here / presenting problem / reason for admission)\n- Extract ONLY admission/presentation/transfer reason or immediate reason for being under care.\n- Typical gold-like situations:\n  - “admitted through ED earlier today with chest pain”\n  - “presented confused and groggy”\n  - “We’re admitting him for cardiac monitoring and further investigation.”\n  - “He was admitted 5 days ago with a chest infection and is now medically stable”\n  - “She was admitted after displaying elevated mood, pressured speech, and impulsive behaviour”\n- SITUATION may appear multiple times; extract each separately if present in different places.\n\nBACKGROUND (very narrow in this dataset)\nGold BACKGROUND is mostly limited to:\n1) Allergies (this is VERY important to capture)\n   - “No known drug allergies”\n   - “there are No known drug allergies”\n   - allergy Q/A pairs if present (“Any allergies…?” / “No…”)\n   - Keep it tight: don’t bundle meds + allergies together unless transcript truly makes it inseparable; prefer splitting:\n     - meds list (ASSESSMENT) and allergy clause (BACKGROUND) as separate spans when possible.\n2) Baseline language/support snippets if present:\n   - “English is her second language—Arabic is her first”\n   - “His wife is his main support”\n3) Comorbidities ONLY if clearly framed as past history/background (not current status).\n   - Note: don’t automatically treat “history of Type 2 diabetes” as background if gold tends to ignore it; prioritize allergies first.\n\nASSESSMENT (current status now / findings / care currently in place)\nCommon gold ASSESSMENT items include:\n- Current responsiveness fragments (often tiny): “, but responsive.”\n- Vitals blocks (often start with “Vitals are stable …” then the numbers):\n  - “Vitals are stable BP: 108/72, HR: 96 bpm, …”\n- Oxygen status, scores (Q-ADDS/QADDS), fluid balance, bowel output\n- IV access and line status split into separate spans:\n  - “he has a 20G cannula in the left forearm”\n  - “patent and flushed. Fluids are running at maintenance rate.”\n- Medication regimen as a span:\n  - “She’s been started on: Lithium carbonate …”\n  - “He’s on: Amoxicillin …”\n- Functional status fragments:\n  - “He’s Mobilising with assistance”\n- Uncertainty statements about assessment can be gold:\n  - “Not really sure we haven't tried to get him up”\n\nRECOMMENDATION (plans, tasks, follow-up, escalation/monitoring advice)\n- Actionable plans and tasks:\n  - referrals, involve teams, monitoring plans, discharge paperwork statements\n  - “I’ll follow up with the family and ensure she’s linked in with the right services”\n  - “Discharge summary and medication chart are with the transfer paperwork.”\n- Escalation advice:\n  - “Let us know if it gets worse.”\n- Prefer tight actionable clauses; trim filler (“Okay”, “Perfect”, etc.) unless it is inseparable.\n\n==================================================\nPRACTICAL EXTRACTION PROCEDURE (what to do every time)\n==================================================\n1) Scan for multiple SITUATION clauses; extract each as its own span.\n   - Common patterns: “admitted … with …”, “presented …”, “We’re admitting …”\n2) Extract BACKGROUND primarily as allergy status (and allergy Q/A if present).\n3) Extract many ASSESSMENT spans (do not under-extract):\n   - responsiveness fragments\n   - vitals block (include “Vitals are stable” if present directly before numbers)\n   - lines/cannula + patency/fluids as separate spans\n   - meds list(s)\n   - symptom status statements that are explicitly current\n   - fluid balance / bowels / mobility / Q-ADDS\n4) Extract RECOMMENDATION spans for each plan/task statement (often multiple).\n\n==================================================\nOUTPUT\n==================================================\nReturn ONLY the JSON array of {label, quote}. No extra text.",
    "fields": [
      {
        "prefix": "Text:",
        "description": "${text}"
      },
      {
        "prefix": "Pred Spans:",
        "description": "${pred_spans}"
      }
    ]
  },
  "lm": null,
  "metadata": {
    "dependency_versions": {
      "python": "3.12",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
