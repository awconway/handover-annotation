{
  "traces": [],
  "train": [],
  "demos": [],
  "signature": {
    "instructions": "text\nTask\nYou will be given a clinical bedside handover transcript (multi-speaker). Extract SBAR-aligned spans as VERBATIM contiguous quotes from the transcript and return ONLY:\n[{\"label\": \"SITUATION\"|\"BACKGROUND\"|\"ASSESSMENT\"|\"RECOMMENDATION\", \"quote\": \"<exact substring>\"}]\nin order of appearance.\n\nScoring / optimization target\nThis task is evaluated with IoU-based character-span overlap against gold spans.\nYour top priority is to match GOLD SPAN BOUNDARIES (exact start/end characters) and GOLD LABEL CHOICES.\n\nHard constraints (must follow)\n- Quotes must be copied EXACTLY from the transcript (verbatim): identical spelling, capitalization, punctuation, whitespace/newlines, and dashes (—). Do not “clean up” text.\n- Each quote must be ONE contiguous substring from ONE location. Never stitch non-adjacent text.\n- Never merge across clear location breaks: speaker change, Q/A interruption, or later revisit of the topic.\n- Do not output non-SBAR chatter (greetings, introductions, identity checks, “thanks”, bedside logistics) unless it is clearly embedded inside a gold SBAR chunk.\n- Each extracted quote must have exactly one SBAR label.\n\nGold-alignment strategy (derived from common errors)\nA) Prefer “natural handover chunks” that gold uses\n- If a speaker delivers multiple consecutive sentences of the same SBAR type, gold often wants ONE span for that chunk.\n- But do NOT over-merge when the content type changes, even if contiguous.\n\nB) Be very careful about splitting vs merging (critical for IoU)\n1) Split when the transcript shifts category within a contiguous run.\n   Common gold splits:\n   - ASSESSMENT vs RECOMMENDATION: if a segment contains “current findings/status” followed by “plans/next steps”, gold often splits into two adjacent spans.\n     Example pattern: “Vitals stable… aware of plan…” (ASSESSMENT) THEN “has agreed to meet… later today” (often RECOMMENDATION/plan) as a separate span.\n   - RECOMMENDATION vs “documentation is up to date”: gold may split the escalation/plan sentence(s) (RECOMMENDATION) from “All documentation is up to date…” (often ASSESSMENT or a separate admin-style span depending on dataset tendency). Prefer splitting at the sentence boundary.\n   - Diet/nutrition blocks: gold may split “diet order” from “fluid balance / tolerance” into two adjacent ASSESSMENT spans when written as separate sentences/lines.\n   - Medications/allergies block: gold often separates “No known allergies.” (BACKGROUND) from meds/pain/PRNs (often ASSESSMENT or separate). Avoid bundling allergies into a longer meds span if “No known allergies.” is a standalone sentence.\n\n2) Merge when gold treats the whole opening story as one headline chunk.\n   - SITUATION commonly includes: admission/presentation + immediate consequences and key deficits in the same continuous opener.\n     Example: “admitted yesterday following stroke. currently stable but has significant weakness…” is typically ONE SITUATION span, not split into situation+assessment.\n\nC) Boundary exactness rules\n- Start exactly at the first clinically relevant character of the chunk (avoid leading identifiers unless they are part of the same gold chunk).\n- End exactly at the last clinically relevant character of the chunk.\n- Do not include trailing courtesy phrases (e.g., “Perfect.” “Thanks.”) unless clearly inside the same clinically meaningful block and likely in gold.\n\nLabel definitions (match dataset tendencies)\nSITUATION = why they are here / headline issue now\n- Admission reason, presenting complaint/event, primary diagnosis, mechanism narrative.\n- Gold often includes “currently stable but…” deficits inside SITUATION when it is in the opening admission sentence block.\n- Do NOT output pure identifiers alone (bed/name/age/consultant) unless tightly bundled with the presenting problem and appears to be part of the same gold chunk.\n\nBACKGROUND = past/context (not the immediate current state)\n- PMHx, comorbidities, chronic conditions, usual/home meds when framed as history, allergies when presented as history/context, baseline social context, language/communication preference, next-of-kin context.\n- Bedside allergy Q/A (“Any allergies?” → “No…”) generally maps to BACKGROUND by default unless clearly framed as part of a current assessment checklist.\n- Language is typically BACKGROUND, but if bundled with current function (“continent and mobilising with assistance”) do NOT merge; gold may split language (BACKGROUND) from current mobility (ASSESSMENT).\n\nASSESSMENT = current status/findings + clinician judgement (what is true now)\n- Current stability, symptoms, vitals, oxygen requirements, lines/drains status, recent results when framed as completed, fluid balance measurements, tolerance, “no concerns”.\n- “No concerns raised this shift” is typically ASSESSMENT.\n- Positioning/pressure care measures (“using 30-degree lateral tilt… repositioned every 2 hours”) are typically ASSESSMENT in this dataset (they describe current care in place), not RECOMMENDATION.\n\nRECOMMENDATION = what to do next / plan / monitoring / escalation / instructions\n- Planned actions for next shift, referrals to chase/follow up, monitoring/escalation instructions (“call if…”, “let team know if…”), explicit next steps, and patient instructions (“use call bell…”).\n- When a recommendation block runs across multiple consecutive instruction sentences, include the whole block (do not stop early).\n- But separate from preceding assessment if the transcript clearly transitions from “status” → “plan”.\n\nWhat NOT to extract\n- Greetings/introductions, identity confirmation, wristband checks, bed/doctor/room identifiers by themselves.\n- Pure backchannels (“Okay.” “Right.” “Got it.”) unless embedded in an SBAR chunk (usually not).\n- Standalone “none pending” / “nothing pending” unless clearly part of a larger gold-marked chunk.\n\nOperational extraction procedure (recommended)\n1) Scan in order; identify candidate SBAR chunks.\n2) Use speaker-turn and sentence boundaries as primary cut points.\n3) Apply the dataset-specific split rules above:\n   - Don’t split the SITUATION opener into multiple spans if it’s one continuous admission+deficits story.\n   - Do split adjacent ASSESSMENT vs RECOMMENDATION sentences when a “plan/next step” begins.\n   - Do split allergies (“No known allergies.”) out of a longer meds block when it appears as its own sentence.\n   - Do treat pressure care/positioning as ASSESSMENT (current measures), not RECOMMENDATION.\n4) Copy the exact substring, preserving newlines.\n\nOutput\nReturn ONLY the list of dictionaries (no extra text):\n[{\"label\": \"...\", \"quote\": \"...\"}, ...]",
    "fields": [
      {
        "prefix": "Text:",
        "description": "${text}"
      },
      {
        "prefix": "Pred Spans:",
        "description": "${pred_spans}"
      }
    ]
  },
  "lm": null,
  "metadata": {
    "dependency_versions": {
      "python": "3.12",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
