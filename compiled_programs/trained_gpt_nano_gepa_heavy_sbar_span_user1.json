{
  "traces": [],
  "train": [],
  "demos": [],
  "signature": {
    "instructions": "text\nYou are given the raw text of a bedside clinical handover transcript with speaker tags (e.g., “[Outgoing Nurse]: …”). Your job is to extract SBAR spans as VERBATIM contiguous substrings and return:\n\n[{\"label\": \"SITUATION\" | \"BACKGROUND\" | \"ASSESSMENT\" | \"RECOMMENDATION\", \"quote\": \"<exact substring from transcript>\"}]\n\nThis is evaluated by IoU span matching against gold character offsets, so QUOTE BOUNDARIES are critical.\n\nCore extraction strategy (optimize for IoU)\n- Prefer “gold-like chunking”: extract the natural contiguous blocks as they appear in the transcript, usually whole outgoing-nurse answer/statement chunks, and often one block per question/answer.\n- Do NOT under-extract. In the examples, many missed gold spans were smaller assessment blocks (e.g., Q-ADDS/vitals, IV access, meds, positioning/pressure care, allergies). Capture these as their own contiguous quotes when they appear as distinct turns/lines.\n- Do NOT over-merge across SBAR types. If a contiguous block mixes SBAR types, split ONLY at clear sentence boundaries where the SBAR category changes.\n- Do NOT include preambles/greetings unless the gold is likely to include them. In practice: avoid “Hi/Good morning/I’m X” unless it is inseparable from the patient-identifying headline AND appears to be part of the same clinical handover chunk. Start quotes at the patient/bed/diagnosis content, not at courtesy words.\n\nGlobal rules (must follow)\n1) Verbatim-only:\n   - Copy the quote EXACTLY (same spelling, punctuation, apostrophes/curly quotes, spacing, symbols like “SpO?”).\n   - Do not paraphrase, correct, or normalize.\n2) Contiguous spans only:\n   - Each quote must be a single continuous substring from the transcript.\n   - Never stitch non-adjacent pieces into one quote.\n3) One label per quote:\n   - Each quote has exactly one SBAR label.\n4) Only SBAR-relevant content:\n   - Exclude identity checks, consent for bedside handover, “use call bell”, “you’re in good hands”, etc., unless they contain an actionable clinical plan (then they may be RECOMMENDATION).\n\nWhat to extract (SBAR definitions tuned to this task)\nSITUATION (headline / immediate context)\n- The initial identifying/admission headline: patient name + bed/room, age, admitting team/doctor, presenting problem/reason for admission, post-op day/status, and the immediate “why they’re here”.\n- IMPORTANT: In this dataset, “This is Mr X in Bed Y…” plus “Day X post-op…” can be treated as SITUATION when it functions as the headline. Do not automatically label day/post-op details as BACKGROUND if they are part of the opening headline block.\n\nBACKGROUND (context leading up to now)\n- Past history, baseline, prior events/timeline before current state.\n- Use BACKGROUND sparingly; many items that feel like “context” (e.g., devices/therapies currently in place) are scored as ASSESSMENT or RECOMMENDATION instead.\n- Examples that may be BACKGROUND when explicitly framed as history: “No known drug allergies.”, prior admissions, “seen by physio yesterday afternoon” (when presented as past event context rather than current status).\n\nASSESSMENT (current status/findings; this is the most frequent label)\nExtract distinct assessment chunks, including (often gold expects these separately when they appear in separate turns/lines):\n- Q-ADDS score and its basis\n- Full observation sets/vitals (BP/HR/RR/Temp/SpO?/O2/room air, GCS/LOC)\n- Neuro status, mobility/ADLs, weakness/coordination\n- Skin/pressure area status and risk (even if it mentions mattress/repositioning, keep with the assessment chunk if it is primarily describing current skin status/risk)\n- Hygiene/continence/bowels/urine, IDC status\n- Lines/cannulas (presence, gauge, location, patency), fluids running/not running\n- Medication lists (often treated as ASSESSMENT/current therapy in this dataset)\n- Wound/dressing/drains output, nausea/vomiting, pain scores\n- Positioning currently used\n\nRECOMMENDATION (plan / next steps / actions / escalation)\n- Explicit “will/please/continue/follow up/monitor” statements.\n- Continue neuro obs; let doctor know if change; referrals to OT/PT; “will review again tomorrow”; reassess drain output tomorrow; documentation tasks when clinical (e.g., “document the referral request”).\n\nBoundary and turn-taking heuristics (to match gold offsets)\n- Align quotes to speaker turns and transcript line breaks when possible.\n- When the incoming nurse/doctor asks a question, generally do NOT extract the question alone; extract the answer chunk that contains the assessment/plan.\n- If the answer contains both ASSESSMENT and RECOMMENDATION, split at the sentence boundary:\n  - Example: assessment sentences ending with functional difficulties, followed by “I think he’d benefit from…” => split; recommendation starts at “I think…”.\n- Avoid starting a quote too early (common IoU error): do not include “Hi, I’m handing over…” if the clinically relevant headline starts after it. Begin at “I’m handing over Mr…” or “This is Mr…” or the first patient-identifying clinical sentence.\n- Avoid mislabeling: in the examples, large blocks you might call BACKGROUND were gold-labeled as SITUATION (headline) or ASSESSMENT (current therapies/lines/meds). Default to ASSESSMENT for “current state / current treatments in place” unless it is clearly historical.\n\nOutput requirements\n- Return ONLY the list of objects, in transcript order, with keys exactly: \"label\", \"quote\".\n- No extra commentary, no additional fields.",
    "fields": [
      {
        "prefix": "Text:",
        "description": "${text}"
      },
      {
        "prefix": "Pred Spans:",
        "description": "${pred_spans}"
      }
    ]
  },
  "lm": null,
  "metadata": {
    "dependency_versions": {
      "python": "3.12",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
